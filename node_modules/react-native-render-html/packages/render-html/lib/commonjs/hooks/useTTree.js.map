{"version":3,"sources":["useTTree.ts"],"names":["useTTree","props","trenderEngine","ttree","buildTTree","html","onTTreeChange","debug","call","__DEV__","console","info","isChild","isLast","parentLeftPrefix"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;AAEe,SAASA,QAAT,CAAkBC,KAAlB,EAA0C;AACvD,QAAMC,aAAa,GAAG,+BAAiBD,KAAjB,CAAtB;AACA,QAAME,KAAK,GAAG,oBAAQ,MAAMD,aAAa,CAACE,UAAd,CAAyBH,KAAK,CAACI,IAA/B,CAAd,EAAoD,CAChEJ,KAAK,CAACI,IAD0D,EAEhEH,aAFgE,CAApD,CAAd;AAIA,QAAM;AAAEI,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAA2BN,KAAjC;AACA,wBAAU,MAAM;AACdK,IAAAA,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEE,IAAf,CAAoB,IAApB,EAA0BL,KAA1B;;AACA,QAAII,KAAK,IAAIE,OAAb,EAAsB;AACpBC,MAAAA,OAAO,CAACC,IAAR,0CACoC,0CAAcR,KAAd,EAAqB;AACrDS,QAAAA,OAAO,EAAE,KAD4C;AAErDC,QAAAA,MAAM,EAAE,KAF6C;AAGrDC,QAAAA,gBAAgB,EAAE;AAHmC,OAArB,CADpC;AAOD;AACF,GAXD,EAWG,CAACX,KAAD,EAAQG,aAAR,EAAuBC,KAAvB,CAXH;AAYA,SAAOJ,KAAP;AACD","sourcesContent":["import { tnodeToString } from '@native-html/transient-render-engine';\nimport { useMemo, useEffect } from 'react';\nimport { RenderHTMLProps } from '../shared-types';\nimport useTRenderEngine from './useTRenderEngine';\n\nexport default function useTTree(props: RenderHTMLProps) {\n  const trenderEngine = useTRenderEngine(props);\n  const ttree = useMemo(() => trenderEngine.buildTTree(props.html), [\n    props.html,\n    trenderEngine\n  ]);\n  const { onTTreeChange, debug } = props;\n  useEffect(() => {\n    onTTreeChange?.call(null, ttree);\n    if (debug && __DEV__) {\n      console.info(\n        `Transient Render Tree update:\\n${tnodeToString(ttree, {\n          isChild: false,\n          isLast: false,\n          parentLeftPrefix: ' '\n        })}`\n      );\n    }\n  }, [ttree, onTTreeChange, debug]);\n  return ttree;\n}\n"]}