"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _transientRenderEngine = require("@native-html/transient-render-engine");

var _SharedPropsContext = require("../context/SharedPropsContext");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function extractAnchorOnLinkPress(tnode, onLinkPress) {
  const href = tnode.attributes.href;
  const shouldHandleLinkPress = tnode.tagName === 'a' && typeof href === 'string' && typeof onLinkPress === 'function';
  return shouldHandleLinkPress ? e => onLinkPress(e, href, tnode.attributes) : undefined;
}

function useAnchorProps(props) {
  const {
    tnode
  } = props;
  const {
    onLinkPress
  } = (0, _SharedPropsContext.useSharedProps)();
  const syntheticAnchorOnLinkPress = extractAnchorOnLinkPress(tnode, onLinkPress);

  if (typeof syntheticAnchorOnLinkPress !== 'function') {
    return props;
  }

  return { ...props,
    onPress: syntheticAnchorOnLinkPress
  };
}

const AnchorRenderer = props => {
  return /*#__PURE__*/_react.default.createElement(props.TDefaultRenderer, useAnchorProps(props));
};

AnchorRenderer.model = _transientRenderEngine.defaultHTMLElementModels.a;
var _default = AnchorRenderer;
exports.default = _default;
//# sourceMappingURL=AnchorRenderer.js.map